(this["webpackJsonphacker-news-reader"]=this["webpackJsonphacker-news-reader"]||[]).push([[3],{20:function(e,t,a){var n=function(e){var t=864e5,a=365*t,n=[[42e3,"just now"],[9e4,"a minute ago"],[36e5,"minutes ago",6e4],[54e5,"an hour ago"],[t,"hours ago",36e5],[2*t,"yesterday"],[7*t,"days ago",t],[9072e5,"a week ago"],[2628e6,"weeks ago",6048e5],[3942e6,"a month ago"],[a,"months ago",2628e6],[1.5*a,"a year ago"],[Number.MAX_VALUE,"years ago",a]];return function(e,t){!t&&(t=(new Date).getTime()),t instanceof Date&&(t=t.getTime()),e instanceof Date&&(e=e.getTime());var a,r,o,s=t-e;for(r=-1,o=n.length;++r<o;)if(s<(a=n[r])[0])return void 0==a[2]?a[1]:Math.round(s/a[2])+" "+a[1]}}();e.exports&&(e.exports=n)},21:function(e,t,a){e.exports={item:"Item_item__3PAef",comments:"Item_comments__2R1et",score:"Item_score__U5BaO",hot:"Item_hot__1TwxB",mild:"Item_mild__3MEuQ",medium:"Item_medium__3Ch-L",upvote:"Item_upvote___Ot76",title:"Item_title__1YNHH",source:"Item_source__3SAo2",author:"Item_author__yoxnY",authorHandle:"Item_authorHandle__3o-Iz",postedAt:"Item_postedAt__8cZLK"}},22:function(e,t,a){e.exports={evenItem:"TopStoriesPage_evenItem__3P4jD"}},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),s=function(e,t){var a=Object(n.useState)(null),r=a[0],o=a[1];return Object(n.useEffect)((function(){if(e.current&&"function"===typeof IntersectionObserver){var a=new IntersectionObserver((function(e){o(e[0])}),t);return a.observe(e.current),function(){o(null),a.disconnect()}}return function(){}}),[e.current,t.threshold,t.root,t.rootMargin]),r},c=a(4),m=a(20),l=a.n(m),i=a(6),u=a(8);const d=async(e,t)=>i.a.get(Object(u.a)("item",{id:t})).json();var h=a(9),p=a(21),f=a.n(p);var _=({id:e,className:t})=>{const{error:a,isLoading:n,item:s}=(e=>{const{error:t,isLoading:a,data:n}=Object(o.b)(["item",e],d,{refetchOnWindowFocus:!1,retry:!1,staleTime:3e5});return{error:t,isLoading:a,item:n?{id:n.id,commentCount:n.descendants,score:n.score,title:n.title,url:n.url,author:n.by,postedAt:1e3*n.time}:{}}})(e);if(a)return r.a.createElement("article",{className:`${f.a.item}${t?" "+t:""}`},"There was an error requesting the item.");if(n)return r.a.createElement("article",{className:`${f.a.item}${t?" "+t:""}`},r.a.createElement(h.a,{className:"block-center"}));const{commentCount:c,score:m,title:i,url:u,author:p,postedAt:_}=s,g=(e=>{let t;try{t=new URL(e)}catch{return null}const a=t.host;if(a.match(/\./g).length>1){const e=a.split(".");return`${e[e.length-2]}.${e[e.length-1]}`}return a})(u),E=(e=>e<50?"":e<75?"mild":e<100?"medium":"hot")(m),v=l()(_);return r.a.createElement("article",{className:`${f.a.item}${t?" "+t:""}`},r.a.createElement("a",{href:"https://news.ycombinator.com/item?id="+e,className:f.a.comments,rel:"nofollow noreferrer noopener"},null!==c&&void 0!==c?c:"-"," ",r.a.createElement("span",{className:"sr-only"},1===c?"comment":"comments"))," ",r.a.createElement("span",{className:`${f.a.score} ${f.a[E]}`},m," ",r.a.createElement("span",{className:"sr-only"},1===m?"upvote":"upvotes"))," ",r.a.createElement("a",{href:`https://news.ycombinator.com/vote?id=${e}&how=up&goto=news%3Fp%3D2`,className:f.a.upvote,rel:"nofollow noreferrer noopener"},r.a.createElement("span",{"aria-hidden":"true"},"\u25b2"),r.a.createElement("span",{className:"sr-only"},"Upvote story"))," ",r.a.createElement("div",null,r.a.createElement("a",{href:null!==u&&void 0!==u?u:"https://news.ycombinator.com/item?id="+e,className:f.a.title,rel:"nofollow noreferrer noopener"},i)," ",g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:f.a.source},r.a.createElement("span",{"aria-hidden":"true"},"("),g,r.a.createElement("span",{"aria-hidden":"true"},")"))," "),r.a.createElement("span",{className:f.a.author},"by"," ",r.a.createElement("a",{href:"https://news.ycombinator.com/user?id="+p,className:f.a.authorHandle,rel:"nofollow noreferrer noopener"},p))," ",r.a.createElement("time",{dateTime:new Date(_).toISOString(),className:f.a.postedAt},v)))},g=a(22),E=a.n(g);t.default=Object(c.a)(()=>{const e=o.a.getQueryData("topStories"),[t,a]=Object(n.useState)([]),c=Object(n.useRef)(null),m=s(c,{rootMargin:"60px",threshold:.01});return Object(n.useEffect)(()=>{a([...t,e[0]])},[]),Object(n.useEffect)(()=>{if(t.length>0){var n;const r=e.indexOf(t[t.length-1]),o=null!==(n=e[r+1])&&void 0!==n?n:null,s=Boolean(o);m&&m.isIntersecting&&s&&a([...t,o])}},[m,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:E.a.itemList},t.map((e,t)=>r.a.createElement(_,{key:e,id:e,className:(t+1)%2===0?E.a.evenItem:null}))),r.a.createElement("div",{"aria-hidden":"true",ref:c}))},{pageTitle:"Top News | Hacker News"})}}]);
//# sourceMappingURL=3.f02793e5.chunk.js.map